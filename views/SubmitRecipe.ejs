<html>
<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href= "/public/assets/style.css" rel="stylesheet" type="text/css" />
<title>Submit a Recipe!</title>
</head>

    <header>
        <div class="top">
            <h1><a href="/"><img src="/public/images/RecipeIcon.png" alt="logo" width="100" class="center"></a><span class="recipecentral" style = "vertical-align: super">Recipe Central</span></h1>
        </div>
    </header>
    
    <nav>
        <ul class="nav">
            <div class="topNav">
           <li><a href="/">Home</a></li>
		<li><a href="/Blogs">Blogs</a></li>
		<li><a href="/Recipes">Recipes</a></li>
		<li><a href="/About">About</a></li>
		<li><a href="/SubmitRecipe">Submit a recipe!</a></li>
            </div>
            <div class="searchbar">
            <input type="text" placeholder="Search by main ingredient...">
            <li style="float:right"><button type="submit"><i class="fa fa-search"></i></button></li>
            </div>
        </ul>
    </nav>
    <body>
        <script
        	src="//code.jquery.com/jquery-3.5.1.js"
          	integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
         	crossorigin="anonymous">
        </script>
	<script>
		$(document).ready(function(){
    		$("#message").hide();
		$("#message1").hide();
		});
	</script>
                <h1>Application to Submit Recipe</h1>
        <p> Fill out the form below to submit a recipe for approval. If we at Recipe Central LOVE your recipe, we'll add it to our list, and dedicate it to you! </p>
        <form class='recipe_submission'>
            <p>Name*: <input type="text"  name='name' id='name' /></p>
            <p>Title*: <input type="text"  name='title' id='title'/></p>
            <p>Ingredients*: <input type="text"  name='ingredients' id='ingredients'/></p>
            <p>Instructions*: <input type="text"  name='instructions' id='instructions'/></p>
            <p>Email: <input type="text"  name='email' id='email1'/></p>
            <input type = "submit" value = "Submit Recipe" id='submit1'/>
        </form>
	<div id = "message1"> <br>Check your inbox and thanks for joining! </div>
        <script>
            $('form.recipe_submission').submit(function(){
                var name = document.getElementsByName('name')[0].value;
                var title = document.getElementsByName('title')[0].value;
                var ingredients = document.getElementsByName('ingredients')[0].value;
                var instructions = document.getElementsByName('instructions')[0].value;
                var email = document.getElementsByName('email')[0].value;
                if (name == '') {
                    alert('Name is a required field. Could not submit.');
                    event.preventDefault();
                    return;
                }
                if (title == '') {
                    alert('Title is a required field. Could not submit.');
                    event.preventDefault();
                    return;
                }
                if (ingredients == '') {
                    alert('Ingredients is a required field. Could not submit.');
                    event.preventDefault();
                    return;
                }
                if (instructions == '') {
                    alert('Instructions is a required field. Could not submit.');
                    event.preventDefault();
                    return;
                }
                var ind = email.indexOf("@");
                if (ind == -1) {
                    alert('Email is invalid (no @ symbol). Could not submit.');
                    event.preventDefault();
                    return;
                }
                else {
                    var domain = email.substring(ind + 1);
                    var period_ind = domain.indexOf(".");
                    if (period_ind == -1) {
                        alert('Email is invalid (no extension). Could not submit.');
                        event.preventDefault();
                        return;
                    }
                }
		    $('#name').hide(); 
		    $('#email1').hide(); 
		    $('#ingredients').hide(); 
		    $('#instructions').hide(); 
		    $('#title').hide();
		    $('#message1').show();
		    e.preventDefault();
		    $('#submit1').hide(); 
            });
        </script>
		<footer>
	<h2>Join Our Newsletter!</h2>
	<div class="row">
		<div class="column">
			<img src="/public/images/HomeImg.jpg" alt="bottom1" width=250px height=200px>
		</div>

		<div class="column">
			<img src="/public/images/HomeImg4.jpg" alt="bottom2" width=250px height=200px>

		</div>
		<div class ="column">
			<img src="/public/images/Homeimg2.jpg" alt="bottom3" width=250px height=200px>


		</div>
		<div class="column">
			<img src="/public/images/HomeImg3.jpg" alt="bottom"  width=250px height=200px>
		</div>
	</div>

	<form
		name = "data"
		class = "signup"
		method="post"
		onsubmit = "return validate()">

		<p id = "first">First Name: <input type="text"  name='fname' /></p>
		<p id = "last">Last Name:  <input type="text"  name='lname' /></p>
		<p id = "email"> Email: <input type="text" name='email' /></p>
		<input type = "submit" value = "Submit" id = "submit"/>
		<script>
		$('form.signup').submit(function(e){
		    $('#first').hide(); 
		    $('#last').hide(); 
		    $('#email').hide(); 
		    $('#message').show();
		    e.preventDefault();
		    $('#submit').hide(); 
		    // Or with: return false;        
		});
		</script>
	</form>
	<div id = "message"> <br>Check your inbox and thanks for joining! </div>
	
	</footer>
	<script>
if ( window.history.replaceState ) {
  window.history.replaceState( null, null, window.location.href );
}
</script>
    </body>
</html>
